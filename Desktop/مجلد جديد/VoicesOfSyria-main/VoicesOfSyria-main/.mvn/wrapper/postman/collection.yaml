{"openapi":"3.0.1","info":{"title":"OpenAPI definition","version":"v0"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"paths":{"/stories/{id}":{"put":{"tags":["publisher-controller"],"operationId":"updateStory","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"multipart/form-data":{"schema":{"required":["story"],"type":"object","properties":{"story":{"type":"string"},"file":{"type":"string","format":"binary"}}}}}},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}},"delete":{"tags":["publisher-controller"],"operationId":"deleteStory","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/admin/stories/{id}/request-modification":{"put":{"tags":["admin-story-controller"],"operationId":"requestModification","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"string"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/admin/stories/{id}/reject":{"put":{"tags":["admin-controller"],"operationId":"rejectStory","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Story"}}}}}}},"/admin/stories/{id}/approve":{"put":{"tags":["admin-controller"],"operationId":"approveStory","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Story"}}}}}}},"/super-admin/admins":{"get":{"tags":["super-admin-controller"],"operationId":"getAllAdmins","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/AdminResponse"}}}}}}},"post":{"tags":["super-admin-controller"],"operationId":"createAdmin","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateAdminRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/AdminResponse"}}}}}}},"/stories":{"post":{"tags":["publisher-controller"],"operationId":"createStory","requestBody":{"content":{"multipart/form-data":{"schema":{"required":["story"],"type":"object","properties":{"story":{"type":"string"},"file":{"type":"string","format":"binary"}}}}}},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Story"}}}}}}},"/auth/verify":{"post":{"tags":["auth-controller"],"operationId":"verifyUser","parameters":[{"name":"email","in":"query","required":true,"schema":{"type":"string"}},{"name":"code","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/auth/register":{"post":{"tags":["auth-controller"],"operationId":"registerUser","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/auth/refresh-token":{"post":{"tags":["auth-controller"],"operationId":"refreshToken","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RefreshTokenRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/AuthResponse"}}}}}}},"/auth/login":{"post":{"tags":["auth-controller"],"operationId":"login","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/AuthResponse"}}}}}}},"/stories/my-stories/{publisherId}":{"get":{"tags":["publisher-controller"],"operationId":"getMyStories","parameters":[{"name":"publisherId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Story"}}}}}}}},"/public/stories":{"get":{"tags":["visitor-controller"],"operationId":"getApprovedStories","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Story"}}}}}}}},"/public/stories/{id}":{"get":{"tags":["visitor-controller"],"operationId":"getStoryById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Story"}}}}}}},"/admin/stories/pending":{"get":{"tags":["admin-controller"],"operationId":"getPendingStories","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Story"}}}}}}}},"/super-admin/admins/{id}":{"delete":{"tags":["super-admin-controller"],"operationId":"deleteAdmin","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"string"}}}}}}}}},"components":{"schemas":{"Story":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"title":{"type":"string"},"textContent":{"type":"string"},"mediaUrl":{"type":"string"},"type":{"type":"string","enum":["TEXT","AUDIO","VIDEO"]},"status":{"type":"string","enum":["PENDING","APPROVED","REJECTED","NEEDS_MODIFICATION"]},"publishDate":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"attacker":{"type":"string"},"incidentDate":{"type":"string","format":"date"},"province":{"type":"string","enum":["DAMASCUS","ALEPPO","HOMS","HAMA","LATTAKIA","TARTOUS","IDLIB","DERAA","SUWAYDA","DEIR_EZZOR","RAQQA","HASAKAH"]},"author":{"$ref":"#/components/schemas/User"},"adminMessage":{"type":"string"}}},"User":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"},"email":{"type":"string"},"password":{"type":"string"},"verified":{"type":"boolean"},"verificationCode":{"type":"string"},"profileImageUrl":{"type":"string"},"role":{"type":"string","enum":["USER","ADMIN","SUPER_ADMIN"]}}},"CreateAdminRequest":{"required":["email","name","password"],"type":"object","properties":{"name":{"maxLength":100,"minLength":2,"type":"string"},"email":{"type":"string"},"password":{"maxLength":2147483647,"minLength":8,"type":"string"},"profileImageUrl":{"type":"string"}}},"AdminResponse":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"},"email":{"type":"string"},"profileImageUrl":{"type":"string"},"role":{"type":"string","enum":["USER","ADMIN","SUPER_ADMIN"]},"verified":{"type":"boolean"}}},"RefreshTokenRequest":{"type":"object","properties":{"refreshToken":{"type":"string"}}},"AuthResponse":{"type":"object","properties":{"accessToken":{"type":"string"},"refreshToken":{"type":"string"},"user":{"$ref":"#/components/schemas/UserDto"}}},"UserDto":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"},"email":{"type":"string"},"role":{"type":"string","enum":["USER","ADMIN","SUPER_ADMIN"]}}},"LoginRequest":{"type":"object","properties":{"email":{"type":"string"},"password":{"type":"string"}}}}}}